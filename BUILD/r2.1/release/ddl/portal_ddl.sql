CREATE TABLE TCSIP_CPORTAL.TBL_SURVEY_PROGRAMMAP (MAPID	NUMBER(38,0) NOT NULL,
BELONGTO	NUMBER(38,0) NOT NULL,
ISTEMPLATE	VARCHAR2(1 CHAR) NOT NULL,
PROGRAMID	NUMBER(38,0) NOT NULL,
CREATEDDT	DATE     NOT NULL,
CREATEDBY	VARCHAR2(100 CHAR)	NOT NULL,
MODIFIEDDT	DATE,
MODIFIEDBY	VARCHAR2(100 CHAR)
);
ALTER TABLE TCSIP_CPORTAL.TBL_SURVEY_PROGRAMMAP ADD CONSTRAINT TBL_SURVEY_PROGRAMMAP_PK PRIMARY KEY (MAPID);
CREATE SEQUENCE TCSIP_CPORTAL.SEQ_SURVEY_PROGRAMMAP MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;

ALTER TABLE TCSIP_CPORTAL.TBL_SURVEY ADD SURVEYSUBTYPE	        NUMBER(38,0) ;
ALTER TABLE TCSIP_CPORTAL.TBL_SURVEY ADD OTHERSURVEYTYPETEXT	VARCHAR2(200 CHAR) ;
ALTER TABLE TCSIP_CPORTAL.TBL_SURVEY ADD CONCLUSIONDELEGATED	VARCHAR2(2000 CHAR) ;
ALTER TABLE TCSIP_CPORTAL.TBL_SURVEY ADD CONCLUSIONDECLINED	    VARCHAR2(2000 CHAR) ;
ALTER TABLE TCSIP_CPORTAL.TBL_SURVEY ADD ISREFALLOWED	        VARCHAR2(1 CHAR);
ALTER TABLE TCSIP_CPORTAL.TBL_SURVEY ADD ISDELEGATIONALLOWED	VARCHAR2(1 CHAR);
ALTER TABLE TCSIP_CPORTAL.TBL_SURVEY ADD ISCALLBACKALLOWED	    VARCHAR2(1 CHAR);


CREATE TABLE TCSIP_CPORTAL.TBL_SEARCHENGINE
(
  SEARCHENTITYID      INTEGER NOT NULL,
  SEARCHENTITYKEYWORD VARCHAR2(200 CHAR) NOT NULL,
  SEARCHENTITYTYPE    VARCHAR2(100 CHAR) NOT NULL,
  SEARCHENTITYINFO    VARCHAR2(100 CHAR),
  CREATEDDT           DATE NOT NULL,
  CREATEDBY           VARCHAR2(100 CHAR) NOT NULL,
  MODIFIEDDT          DATE,
  MODIFIEDBY          VARCHAR2(100 CHAR),
  SEARCHENTITYCD      VARCHAR2(100) NOT NULL,
  SEARCHENTITYHIT     INTEGER
);

ALTER TABLE TCSIP_CPORTAL.TBL_SEARCHENGINE ADD CONSTRAINT TBL_SEARCHENGINE_PK PRIMARY KEY (SEARCHENTITYID);
CREATE SEQUENCE TCSIP_CPORTAL.SEQ_SEARCHENGINE MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;

ALTER TABLE TCSIP_CPORTAL.TBL_SURVEY ADD ISSTUDYSPECIFIC VARCHAR2(1 CHAR);
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_SURVEY.ISSTUDYSPECIFIC IS 'Flag for study specific survey';

ALTER TABLE TCSIP_CPORTAL.TBL_SURVEYSIPASSOCIATION ADD ISSTUDYSKIPPED VARCHAR2(1 CHAR);
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_SURVEYSIPASSOCIATION.ISSTUDYSKIPPED IS 'Study skipping flag';

ALTER TABLE TCSIP_CPORTAL.TBL_SURVEYANSWER ADD SURVEYANSTIER  VARCHAR2(100 CHAR);
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_SURVEYANSWER.SURVEYANSTIER IS 'Srtring for survey ans tier';

ALTER TABLE TCSIP_CPORTAL.TBL_REVIEWERRESPONSEMAP ADD POSITIONID	VARCHAR2(20 CHAR);
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_REVIEWERRESPONSEMAP.POSITIONID IS 'Position of the survey question';

ALTER TABLE TCSIP_CPORTAL.TBL_SURVEY MODIFY SURVEYDESC VARCHAR2(2000 CHAR);

ALTER TABLE TCSIP_CPORTAL.TBL_SURVEYTEMPLATE ADD TEMPLATEDESC VARCHAR2(200 CHAR);
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_SURVEYTEMPLATE.TEMPLATEDESC IS 'To Save Template Description';

ALTER TABLE TCSIP_CPORTAL.TBL_SURVEYTEMPLATE ADD RECIPIENTTYPE NUMBER(38,0);
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_SURVEYTEMPLATE.RECIPIENTTYPE IS 'To Save Recipient Type';

ALTER TABLE TCSIP_CPORTAL.TBL_SURVEYTEMPLATE ADD SURVEYTYPE NUMBER(38,0);
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_SURVEYTEMPLATE.SURVEYTYPE IS 'To Save Survey Type';

ALTER TABLE TCSIP_CPORTAL.TBL_SURVEYTEMPLATE ADD OTHERSURVEYTYPETEXT VARCHAR2(200 CHAR);
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_SURVEYTEMPLATE.OTHERSURVEYTYPETEXT IS 'To Save Other Survey Type';

ALTER TABLE TCSIP_CPORTAL.TBL_SURVEYSECTION ADD SHOWINSURVEY VARCHAR2(1 CHAR) DEFAULT 'Y';
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_SURVEYSECTION.SHOWINSURVEY IS 'Flag to indicate whether section will be shown in child survey';

ALTER TABLE TCSIP_CPORTAL.TBL_SURVEYQUESTION ADD SHOWINSURVEY VARCHAR2(1 CHAR) DEFAULT 'Y';
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_SURVEYQUESTION.SHOWINSURVEY IS 'Flag to indicate whether question will be shown in child survey';

CREATE TABLE TCSIP_CPORTAL.TBL_SURVEYLOGICJUMPMAP
(SURVEYLOGICMAPID  NUMBER(38,0) NOT NULL,
SURVEYQUESID  NUMBER(38,0) NOT NULL,
SURVEYANSID  NUMBER(38,0) NOT NULL,
SURVEYLOGICID  NUMBER(38,0) NOT NULL,
CREATEDDT  DATE  NOT NULL,
CREATEDBY  VARCHAR2(100 CHAR) NOT NULL,
MODIFIEDDT  DATE ,
MODIFIEDBY	VARCHAR2(100 CHAR)
);

ALTER TABLE TCSIP_CPORTAL.TBL_SURVEYLOGICJUMPMAP ADD CONSTRAINT PK_TBL_SURVEYLOGICJUMPMAP PRIMARY KEY(SURVEYLOGICMAPID);
ALTER TABLE TCSIP_CPORTAL.TBL_SURVEYLOGICJUMPMAP ADD CONSTRAINT TBL_SURVEYLOGICJUMPMAP_FK FOREIGN KEY ( SURVEYLOGICID ) REFERENCES TCSIP_CPORTAL.TBL_SURVEYLOGICJUMP ( SURVEYLOGICID );

CREATE SEQUENCE TCSIP_CPORTAL.SEQ_SURVEYLOGICJUMPMAP MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;

COMMENT ON TABLE TCSIP_CPORTAL.TBL_SURVEYLOGICJUMPMAP IS 'This is a mapping table for survey question to logic id';
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_SURVEYLOGICJUMPMAP.SURVEYLOGICMAPID IS 'Sequence generated primary key';
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_SURVEYLOGICJUMPMAP.SURVEYQUESID IS 'Survey Question Id';
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_SURVEYLOGICJUMPMAP.SURVEYANSID IS 'Survey ans Id';
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_SURVEYLOGICJUMPMAP.SURVEYLOGICID IS 'Survey logic Id';
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_SURVEYLOGICJUMPMAP.CREATEDDT IS 'Created date';
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_SURVEYLOGICJUMPMAP.CREATEDBY IS 'Created by';
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_SURVEYLOGICJUMPMAP.MODIFIEDDT IS 'Modified date';
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_SURVEYLOGICJUMPMAP.MODIFIEDBY IS 'Modified by';

ALTER TABLE TCSIP_CPORTAL.TBL_SURVEYSECTION ADD SECPOSITION	NUMBER(38,0);
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_SURVEYSECTION.SECPOSITION IS 'Flag to indicate position of a section';

ALTER TABLE TCSIP_CPORTAL.TBL_SURVEYANSWER MODIFY SURVEYANSWEIGHTAGE VARCHAR2(10 CHAR);
ALTER TABLE TCSIP_CPORTAL.TBL_SURVEYUSERMAP ADD RECIPIENTSTATUS VARCHAR2(100 CHAR);
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_SURVEYUSERMAP.RECIPIENTSTATUS IS 'Recipient Status';
ALTER TABLE TCSIP_CPORTAL.TBL_REVIEWER ADD COUNTRY VARCHAR2(100 CHAR);
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_REVIEWER.COUNTRY IS 'To Save Sponsor Userâ€™s Country';

ALTER TABLE TCSIP_CPORTAL.TBL_RESPONSEMANAGER  ADD COUNTRY VARCHAR2(100 CHAR);
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_RESPONSEMANAGER.COUNTRY IS 'To Save Sponsor User Country';

ALTER TABLE TCSIP_CPORTAL.TBL_RESPONSEMANAGER  ADD SPONSORBUSINESSUNIT VARCHAR2(100 CHAR);
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_RESPONSEMANAGER.SPONSORBUSINESSUNIT IS 'To Save Sponsor User Country';

ALTER TABLE TCSIP_CPORTAL.TBL_SURVEY MODIFY OTHERSURVEYTYPETEXT VARCHAR2(200 CHAR);

CREATE TABLE TCSIP_CPORTAL.TBL_RECIPIENTCOMMENT
(RECIPIENTCOMMENTID  NUMBER(38,0) NOT NULL,
REVIEWERID  NUMBER(38,0) NOT NULL,
SURVEYUSERID  NUMBER(38,0) NOT NULL,
RECIPIENTCOMMENT  VARCHAR2(200 CHAR),
CREATEDDT  DATE  NOT NULL,
CREATEDBY  VARCHAR2(100 CHAR) NOT NULL,
MODIFIEDDT  DATE ,
MODIFIEDBY  VARCHAR2(100 CHAR)
);

ALTER TABLE TCSIP_CPORTAL.TBL_RECIPIENTCOMMENT ADD CONSTRAINT PK_TBL_RECIPIENTCOMMENT PRIMARY KEY(RECIPIENTCOMMENTID);
CREATE SEQUENCE TCSIP_CPORTAL.SEQ_RECIPIENTCOMMENT MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;

COMMENT ON TABLE TCSIP_CPORTAL.TBL_RECIPIENTCOMMENT IS 'This table is created for reviewer comments for each recipients';
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_RECIPIENTCOMMENT.RECIPIENTCOMMENTID IS 'Sequence generated primary key';
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_RECIPIENTCOMMENT.REVIEWERID IS 'Reviewer Id';
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_RECIPIENTCOMMENT.SURVEYUSERID IS 'Survey user Id';
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_RECIPIENTCOMMENT.RECIPIENTCOMMENT IS 'Recipient comments';
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_RECIPIENTCOMMENT.CREATEDDT IS 'Created date';
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_RECIPIENTCOMMENT.CREATEDBY IS 'Created by';
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_RECIPIENTCOMMENT.MODIFIEDDT IS 'Modified date';
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_RECIPIENTCOMMENT.MODIFIEDBY IS 'Modified by';

ALTER TABLE TCSIP_CPORTAL.TBL_EXPORTPREF ADD ISFACILITYPROFILEDATAREQD VARCHAR2(1 CHAR);
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_EXPORTPREF.ISFACILITYPROFILEDATAREQD IS 'Facility profile data';

ALTER TABLE TCSIP_CPORTAL.TBL_EXPORTPREF ADD ISSURVEYRESPONSEDATAREQD VARCHAR2(1 CHAR);
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_EXPORTPREF.ISSURVEYRESPONSEDATAREQD IS 'Survey Response data';

ALTER TABLE TCSIP_CPORTAL.TBL_SURVEYUSERMAP MODIFY SURVEYNOTIFICATIONLINK VARCHAR2(200 CHAR);

ALTER TABLE TCSIP_CPORTAL.TBL_SURVEYLOGICJUMP ADD TOSECTIONID NUMBER(38);
COMMENT ON COLUMN TCSIP_CPORTAL.TBL_SURVEYLOGICJUMP.TOSECTIONID IS 'Section to be negigated';
