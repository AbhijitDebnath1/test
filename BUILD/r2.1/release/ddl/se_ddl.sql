CREATE TABLE TBL_ORGTHERAPEUTICAREA( 
ORGTHERAPEUTICAREAID          NUMBER(38,0) NOT NULL,
ORGID                         NUMBER(38,0),
THERAPETICAREANAME            VARCHAR2(200 CHAR),
THERAPEUTICAREACODE          VARCHAR2(100 CHAR),
CREATEDBY                     VARCHAR2(100 CHAR) NOT NULL,
CREATEDDT                     DATE  NOT NULL ,     
MODIFIEDBY                    VARCHAR2(100 CHAR),
MODIFIEDDT      	           	DATE
);

ALTER TABLE TBL_ORGTHERAPEUTICAREA ADD CONSTRAINT TBL_ORGTHERAPEUTICAREA_PK PRIMARY KEY (ORGTHERAPEUTICAREAID);
ALTER TABLE TBL_ORGTHERAPEUTICAREA ADD CONSTRAINT TBL_ORGTHERAPEUTICAREA_FK FOREIGN KEY ( ORGID ) REFERENCES TBL_ORGANIZATION ( ORGID );
CREATE SEQUENCE SEQ_ORGTHERAPEUTICAREA MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;

COMMENT ON TABLE TBL_ORGTHERAPEUTICAREA IS 'Table for Therapeutic Area, Organization specific';
COMMENT ON COLUMN TBL_ORGTHERAPEUTICAREA.ORGTHERAPEUTICAREAID IS 'Sequence generated primary key';
COMMENT ON COLUMN TBL_ORGTHERAPEUTICAREA.ORGID IS 'Foreign key for TBL_ORGANIZATION';
COMMENT ON COLUMN TBL_ORGTHERAPEUTICAREA.THERAPETICAREANAME IS 'Therapeutic area name this may/may not be different than TBL_THERAPEUTICAREA'; 
COMMENT ON COLUMN TBL_ORGTHERAPEUTICAREA.THERAPEUTICAREACODE IS 'Therapeutic area code';
COMMENT ON COLUMN TBL_ORGTHERAPEUTICAREA.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_ORGTHERAPEUTICAREA.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_ORGTHERAPEUTICAREA.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_ORGTHERAPEUTICAREA.MODIFIEDBY IS 'Modified by'; 


CREATE INDEX TBL_ORGTHERAPEUTICAREA_IDX1 ON TBL_ORGTHERAPEUTICAREA(ORGID);

---------------------------------------------------------------------------------------------------------------------------------------------------------

CREATE TABLE TBL_STUDYSECTIONS( 
STUDYSECTIONID          NUMBER(38,0) NOT NULL,
SECTIONNAME             VARCHAR2(100 CHAR),
SECTIONCODE             VARCHAR2(5 CHAR),
CREATEDBY               VARCHAR2(100 CHAR)  NOT NULL,
CREATEDDT               DATE                NOT NULL, 
MODIFIEDBY              VARCHAR2(100 CHAR),
MODIFIEDDT      	      DATE
);

ALTER TABLE TBL_STUDYSECTIONS ADD CONSTRAINT TBL_STUDYSECTIONS_PK PRIMARY KEY (STUDYSECTIONID);
CREATE SEQUENCE SEQ_STUDYSECTIONS MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;


COMMENT ON TABLE TBL_STUDYSECTIONS IS 'Table for Study Sections';
COMMENT ON COLUMN TBL_STUDYSECTIONS.STUDYSECTIONID IS 'Sequence generated primary key';
COMMENT ON COLUMN TBL_STUDYSECTIONS.SECTIONNAME IS 'Study section name';
COMMENT ON COLUMN TBL_STUDYSECTIONS.SECTIONCODE IS 'Study section code'; 
COMMENT ON COLUMN TBL_STUDYSECTIONS.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_STUDYSECTIONS.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_STUDYSECTIONS.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_STUDYSECTIONS.MODIFIEDBY IS 'Modified by'; 

--------------------------------------------------------------------------------------------------------------------------------------------------


CREATE TABLE TBL_ORGSYSTEMACCESS ( 
ORGSYSTEMID                      NUMBER(38,0) NOT NULL,
ORGID                            NUMBER(38,0),
SYSTEMACCESSCD                   VARCHAR2(100 CHAR),
SYSTEMNAME                       VARCHAR2(500 CHAR),
ACCESSTYPE                       VARCHAR2(500 CHAR),
STATUS                           VARCHAR2(1   CHAR),
CREATEDBY                        VARCHAR2(100 CHAR) NOT NULL, 
CREATEDDT                        DATE  NOT NULL,     
MODIFIEDBY                       VARCHAR2(100 CHAR),
MODIFIEDDT      	               DATE
);

ALTER TABLE TBL_ORGSYSTEMACCESS ADD CONSTRAINT TBL_ORGSYSTEMACCESS_PK PRIMARY KEY (ORGSYSTEMID);
ALTER TABLE TBL_ORGSYSTEMACCESS ADD CONSTRAINT TBL_ORGSYSTEMACCESS_FK FOREIGN KEY ( ORGID ) REFERENCES TBL_ORGANIZATION ( ORGID );
CREATE SEQUENCE SEQ_ORGSYSTEMACCESS MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;

COMMENT ON TABLE TBL_ORGSYSTEMACCESS IS 'Table for Organization specific System access';
COMMENT ON COLUMN TBL_ORGSYSTEMACCESS.ORGSYSTEMID IS 'Sequence generated primary key';
COMMENT ON COLUMN TBL_ORGSYSTEMACCESS.ORGID IS 'Foreign key for TBL_ORGANIZATION';
COMMENT ON COLUMN TBL_ORGSYSTEMACCESS.SYSTEMACCESSCD IS 'Member Company System Access Type Code';
COMMENT ON COLUMN TBL_ORGSYSTEMACCESS.SYSTEMNAME IS 'System name for which the access is granted'; 
COMMENT ON COLUMN TBL_ORGSYSTEMACCESS.ACCESSTYPE IS 'Access type'; 
COMMENT ON COLUMN TBL_ORGSYSTEMACCESS.STATUS IS 'Status'; 
COMMENT ON COLUMN TBL_ORGSYSTEMACCESS.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_ORGSYSTEMACCESS.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_ORGSYSTEMACCESS.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_ORGSYSTEMACCESS.MODIFIEDBY IS 'Modified by'; 


CREATE INDEX TBL_ORGSYSTEMACCESS_IDX1 ON TBL_ORGSYSTEMACCESS(ORGID);
---------------------------------------------------------------------------------------------------------------------------------------------------


ALTER TABLE TBL_STUDY ADD STUDYPHASE NUMBER(38,0) ; 
ALTER TABLE TBL_STUDY ADD SIP_STUDYCLOSUREDATE DATE;
ALTER TABLE TBL_STUDY ADD CONSTRAINT TBL_STUDY_PHASE_FK FOREIGN KEY ( STUDYPHASE ) REFERENCES TBL_PHASEOFINT ( PHASEOFINTID );

COMMENT ON COLUMN TBL_STUDY.STUDYPHASE IS 'Foreign key for TBL_PHASEOFINT';
COMMENT ON COLUMN TBL_STUDY.SIP_STUDYCLOSUREDATE IS 'Study Closure date'; 


CREATE INDEX TBL_STUDY_IDX1 ON TBL_STUDY(STUDYPHASE);
--------------------------------------------------------------------------------------------------------------------------------------------------------

ALTER TABLE TBL_SITE ADD SIPREADONLYDATE     DATE;
ALTER TABLE TBL_SITE ADD SAFETY_NOTIFICATION_STARTDATE    DATE;
ALTER TABLE TBL_SITE ADD SAFETY_NOTIFICATION_ENDDATE      DATE;
ALTER TABLE TBL_SITE ADD ISINCLUDED1572      VARCHAR2(1 CHAR) DEFAULT 'N';

COMMENT ON COLUMN TBL_SITE.SIPREADONLYDATE IS 'SIP Read only date';
COMMENT ON COLUMN TBL_SITE.SAFETY_NOTIFICATION_STARTDATE IS 'Safety Notification start date'; 
COMMENT ON COLUMN TBL_SITE.SAFETY_NOTIFICATION_ENDDATE IS 'Safety Notification end date';
COMMENT ON COLUMN TBL_SITE.ISINCLUDED1572 IS 'Is included 1572';

--------------------------------------------------------------------------------------------------------------------------------------------------



ALTER TABLE TBL_STUDYCOUNTRYMILESTONE  ADD PLANNED_FSFV DATE;
ALTER TABLE TBL_STUDYCOUNTRYMILESTONE  ADD PLANNED_LSLV DATE;
ALTER TABLE TBL_STUDYCOUNTRYMILESTONE  ADD PLANNED_SUBJECTENROLLED     VARCHAR2(10 CHAR);
ALTER TABLE TBL_STUDYCOUNTRYMILESTONE  ADD ACTUAL_SUBJECTENROLLED      VARCHAR2(10 CHAR);


COMMENT ON COLUMN TBL_STUDYCOUNTRYMILESTONE.PLANNED_FSFV IS 'Planned date for first Subject first visit';
COMMENT ON COLUMN TBL_STUDYCOUNTRYMILESTONE.PLANNED_LSLV IS 'Planned dated for last Subject last visit'; 
COMMENT ON COLUMN TBL_STUDYCOUNTRYMILESTONE.PLANNED_SUBJECTENROLLED IS 'Planned Subject enrolled';
COMMENT ON COLUMN TBL_STUDYCOUNTRYMILESTONE.ACTUAL_SUBJECTENROLLED IS 'Actual Subject enrolled';


-----------------------------------------------------------------------------------------------------------------------------------------------------


CREATE TABLE TBL_STUDYTHERAPEUTICAREA ( 
STUDYTHERAPEUTICAREAID                NUMBER(38,0) NOT NULL,
STUDYID                               NUMBER(38,0) NOT NULL,
THERAPEUTICAREAID                     NUMBER(38,0) NOT NULL,
ISACTIVE                              VARCHAR2(1 CHAR),
CREATEDBY                             VARCHAR2(100 CHAR)  NOT NULL,
CREATEDDT                             DATE                NOT NULL,
MODIFIEDBY                            VARCHAR2(100 CHAR),
MODIFIEDDT      	                    DATE
);

ALTER TABLE TBL_STUDYTHERAPEUTICAREA ADD CONSTRAINT TBL_STUDYTHERAPEUTICAREA_PK PRIMARY KEY (STUDYTHERAPEUTICAREAID);
ALTER TABLE TBL_STUDYTHERAPEUTICAREA ADD CONSTRAINT TBL_STUDYTHERARA_STUDY_FK FOREIGN KEY ( STUDYID ) REFERENCES TBL_STUDY ( STUDYID );
ALTER TABLE TBL_STUDYTHERAPEUTICAREA ADD CONSTRAINT TBL_STUDYTHERARA_THERAPEID_FK FOREIGN KEY ( THERAPEUTICAREAID ) REFERENCES TBL_ORGTHERAPEUTICAREA ( ORGTHERAPEUTICAREAID );
CREATE SEQUENCE SEQ_STUDYTHERAPEUTICAREA MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;


COMMENT ON TABLE TBL_STUDYTHERAPEUTICAREA IS 'Table for Mapping Study and Therapeutic area';
COMMENT ON COLUMN TBL_STUDYTHERAPEUTICAREA.STUDYTHERAPEUTICAREAID IS 'Sequence generated primary key';
COMMENT ON COLUMN TBL_STUDYTHERAPEUTICAREA.STUDYID IS 'Foreign key for TBL_STUDY';
COMMENT ON COLUMN TBL_STUDYTHERAPEUTICAREA.THERAPEUTICAREAID IS 'Foreign key for TBL_ORGTHERAPEUTICAREA'; 
COMMENT ON COLUMN TBL_STUDYTHERAPEUTICAREA.ISACTIVE IS 'Active Status'; 
COMMENT ON COLUMN TBL_STUDYTHERAPEUTICAREA.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_STUDYTHERAPEUTICAREA.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_STUDYTHERAPEUTICAREA.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_STUDYTHERAPEUTICAREA.MODIFIEDBY IS 'Modified by'; 


CREATE INDEX TBL_STUDYTHERAPEUTICAREA_IDX1 ON TBL_STUDYTHERAPEUTICAREA(STUDYID);
CREATE INDEX TBL_STUDYTHERAPEUTICAREA_IDX2 ON TBL_STUDYTHERAPEUTICAREA(THERAPEUTICAREAID);


---------------------------------------------------------------------------------------------------------------------------------------------------------


CREATE TABLE TBL_STUDYINDICATION ( 
STUDYINDICATIONID                 NUMBER(38,0) NOT NULL,
STUDYID                           NUMBER(38,0) NOT NULL,
INDICATIONID                      NUMBER(38,0),
ISACTIVE                          VARCHAR2(1 CHAR),
CREATEDBY                         VARCHAR2(100 CHAR) NOT NULL,
CREATEDDT                         DATE               NOT NULL, 
MODIFIEDBY                        VARCHAR2(100 CHAR),
MODIFIEDDT                      	DATE
);

ALTER TABLE TBL_STUDYINDICATION ADD CONSTRAINT TBL_STUDYINDICATION_PK PRIMARY KEY (STUDYINDICATIONID);
ALTER TABLE TBL_STUDYINDICATION ADD CONSTRAINT TBL_STUDYINDICATION_STUDY_FK FOREIGN KEY ( STUDYID ) REFERENCES TBL_STUDY ( STUDYID );
ALTER TABLE TBL_STUDYINDICATION ADD CONSTRAINT TBL_STUDYINDICATION_INDID_FK FOREIGN KEY ( INDICATIONID ) REFERENCES TBL_INDICATION ( INDICATIONID );
CREATE SEQUENCE SEQ_INDICATIONID MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;

COMMENT ON TABLE TBL_STUDYINDICATION IS 'Table for Mapping Study and Indication';
COMMENT ON COLUMN TBL_STUDYINDICATION.STUDYINDICATIONID IS 'Sequence generated primary key';
COMMENT ON COLUMN TBL_STUDYINDICATION.STUDYID IS 'Foreign key for TBL_STUDY';
COMMENT ON COLUMN TBL_STUDYINDICATION.INDICATIONID IS 'Foreign key for TBL_INDICATION'; 
COMMENT ON COLUMN TBL_STUDYINDICATION.ISACTIVE IS 'Active Status'; 
COMMENT ON COLUMN TBL_STUDYINDICATION.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_STUDYINDICATION.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_STUDYINDICATION.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_STUDYINDICATION.MODIFIEDBY IS 'Modified by'; 


CREATE INDEX TBL_STUDYINDICATION_IDX1 ON TBL_STUDYINDICATION(STUDYID);
CREATE INDEX TBL_STUDYINDICATION_IDX2 ON TBL_STUDYINDICATION(INDICATIONID);
---------------------------------------------------------------------------------------------------------------------------------------------------


CREATE TABLE TBL_STUDYSECTIONSTATUS (
STUDYSECTIONSTATUSID  NUMBER(38,0) NOT NULL,
STUDYID               NUMBER(38,0) NOT NULL,
SECTIONID             NUMBER(38,0) NOT NULL,
STATUS                VARCHAR2(1 CHAR),
ISAPPLICABLE          VARCHAR2(1 CHAR),
CREATEDBY             VARCHAR2(100 CHAR) NOT NULL ,
CREATEDDT             DATE  NOT NULL ,     
MODIFIEDBY            VARCHAR2(100 CHAR),
MODIFIEDDT      	    DATE
);

ALTER TABLE TBL_STUDYSECTIONSTATUS ADD CONSTRAINT TBL_STUDYSECTIONSTATUS_PK PRIMARY KEY (STUDYSECTIONSTATUSID);
ALTER TABLE TBL_STUDYSECTIONSTATUS ADD CONSTRAINT TBL_STUDYSECSTUS_STUDY_FK FOREIGN KEY ( STUDYID ) REFERENCES TBL_STUDY ( STUDYID );
ALTER TABLE TBL_STUDYSECTIONSTATUS ADD CONSTRAINT   TBL_STUDYSECSTUS_SECID_FK FOREIGN KEY ( SECTIONID ) REFERENCES TBL_STUDYSECTIONS ( STUDYSECTIONID );
CREATE SEQUENCE SEQ_STUDYSECTIONSTATUS MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;

COMMENT ON TABLE TBL_STUDYSECTIONSTATUS IS 'Table for Mapping Study and Section';
COMMENT ON COLUMN TBL_STUDYSECTIONSTATUS.STUDYSECTIONSTATUSID IS 'Sequence generated primary key';
COMMENT ON COLUMN TBL_STUDYSECTIONSTATUS.STUDYID IS 'Foreign key for TBL_STUDY';
COMMENT ON COLUMN TBL_STUDYSECTIONSTATUS.SECTIONID IS 'Foreign key for TBL_STUDYSECTIONS'; 
COMMENT ON COLUMN TBL_STUDYSECTIONSTATUS.STATUS IS 'Status'; 
COMMENT ON COLUMN TBL_STUDYSECTIONSTATUS.ISAPPLICABLE IS 'Is applicable'; 
COMMENT ON COLUMN TBL_STUDYSECTIONSTATUS.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_STUDYSECTIONSTATUS.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_STUDYSECTIONSTATUS.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_STUDYSECTIONSTATUS.MODIFIEDBY IS 'Modified by'; 


CREATE INDEX TBL_STUDYSECTIONSTATUS_IDX1 ON TBL_STUDYSECTIONSTATUS(STUDYID);
CREATE INDEX TBL_STUDYSECTIONSTATUS_IDX2 ON TBL_STUDYSECTIONSTATUS(SECTIONID);
------------------------------------------------------------------------------------------------------------------------------------------------------------


CREATE TABLE TBL_STUDYCENTRALIRB (
STUDYIRBID	                     NUMBER(38,0) NOT NULL,
STUDYID	                         NUMBER(38,0) NOT NULL,
EXTERNALID	                     VARCHAR2(100 CHAR),
IRBNAME	                         VARCHAR2(100 CHAR),
CONTACTID	                       NUMBER(38,0),
STATUS	                         VARCHAR2(1 CHAR),
STARTDATE	                       DATE,
ENDDATE	                         DATE,
CREATEDBY                  	     VARCHAR2(100 CHAR)  NOT NULL,
CREATEDDT                   	   DATE    NOT NULL,   
MODIFIEDBY          	           VARCHAR2(100 CHAR),
MODIFIEDDT      	               DATE
);

ALTER TABLE TBL_STUDYCENTRALIRB ADD CONSTRAINT TBL_STUDYCENTRALIRB_PK PRIMARY KEY (STUDYIRBID);
ALTER TABLE TBL_STUDYCENTRALIRB ADD CONSTRAINT TBL_STUDYCENTRALIRB_STUDY_FK FOREIGN KEY ( STUDYID ) REFERENCES TBL_STUDY ( STUDYID );
ALTER TABLE TBL_STUDYCENTRALIRB ADD CONSTRAINT TBL_STUDYCENTRALIRB_CONID_FK FOREIGN KEY ( CONTACTID ) REFERENCES TBL_CONTACT ( CONTACTID );
CREATE SEQUENCE SEQ_STUDYCENTRALIRB MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;


COMMENT ON TABLE TBL_STUDYCENTRALIRB IS 'Table for Mapping Study and Central IRB';
COMMENT ON COLUMN TBL_STUDYCENTRALIRB.STUDYIRBID IS 'Sequence generated primary key';
COMMENT ON COLUMN TBL_STUDYCENTRALIRB.STUDYID IS 'Foreign key for TBL_STUDY';
COMMENT ON COLUMN TBL_STUDYCENTRALIRB.EXTERNALID IS 'External id'; 
COMMENT ON COLUMN TBL_STUDYCENTRALIRB.IRBNAME IS 'IRB name'; 
COMMENT ON COLUMN TBL_STUDYCENTRALIRB.CONTACTID IS 'Foreign key for TBL_CONTACT'; 
COMMENT ON COLUMN TBL_STUDYCENTRALIRB.STATUS IS 'Status'; 
COMMENT ON COLUMN TBL_STUDYCENTRALIRB.STARTDATE IS 'Association start date'; 
COMMENT ON COLUMN TBL_STUDYCENTRALIRB.ENDDATE IS 'Association end date'; 
COMMENT ON COLUMN TBL_STUDYCENTRALIRB.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_STUDYCENTRALIRB.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_STUDYCENTRALIRB.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_STUDYCENTRALIRB.MODIFIEDBY IS 'Modified by'; 


CREATE INDEX TBL_STUDYCENTRALIRB_IDX1 ON TBL_STUDYCENTRALIRB(STUDYID);
CREATE INDEX TBL_STUDYCENTRALIRB_IDX2 ON TBL_STUDYCENTRALIRB(CONTACTID);
------------------------------------------------------------------------------------------------------------------------------------------------------


CREATE TABLE TBL_STUDYCENTRALLAB (
STUDYLABID	               NUMBER(38,0) NOT NULL,
STUDYID	                   NUMBER(38,0) NOT NULL,
EXTERNALID	               VARCHAR2(100 CHAR),
LABNAME	                   VARCHAR2(200 CHAR),
LABTYPE	                   VARCHAR2(100 CHAR),
CONTACTID	                 NUMBER(38,0),
STATUS	                      VARCHAR2(1 CHAR),
ACCERADATION	             VARCHAR2(100 CHAR),
STARTDATE	                 DATE,
ENDDATE	                   DATE,
CREATEDBY                  VARCHAR2(100 CHAR)  NOT NULL,
CREATEDDT                  DATE NOT NULL,       
MODIFIEDBY          	     VARCHAR2(100 CHAR),
MODIFIEDDT      	         DATE
);

ALTER TABLE TBL_STUDYCENTRALLAB ADD CONSTRAINT TBL_STUDYCENTRALLAB_PK PRIMARY KEY (STUDYLABID);
ALTER TABLE TBL_STUDYCENTRALLAB ADD CONSTRAINT TBL_STUDYCENTRALLAB_STUDY_FK FOREIGN KEY ( STUDYID ) REFERENCES TBL_STUDY ( STUDYID );
ALTER TABLE TBL_STUDYCENTRALLAB ADD CONSTRAINT TBL_STUDYCENTRALLAB_CONID_FK FOREIGN KEY ( CONTACTID ) REFERENCES TBL_CONTACT ( CONTACTID );
CREATE SEQUENCE SEQ_STUDYCENTRALLAB MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;


COMMENT ON TABLE TBL_STUDYCENTRALLAB IS 'Table for Mapping Study and Central Lab';
COMMENT ON COLUMN TBL_STUDYCENTRALLAB.STUDYLABID IS 'Sequence generated primary key';
COMMENT ON COLUMN TBL_STUDYCENTRALLAB.STUDYID IS 'Foreign key for TBL_STUDY';
COMMENT ON COLUMN TBL_STUDYCENTRALLAB.EXTERNALID IS 'External id'; 
COMMENT ON COLUMN TBL_STUDYCENTRALLAB.LABNAME IS 'Lab name'; 
COMMENT ON COLUMN TBL_STUDYCENTRALLAB.LABTYPE IS 'Lab type'; 
COMMENT ON COLUMN TBL_STUDYCENTRALLAB.CONTACTID IS 'Foreign key for TBL_CONTACT'; 
COMMENT ON COLUMN TBL_STUDYCENTRALLAB.ACCERADATION IS 'Lab Acceradation'; 
COMMENT ON COLUMN TBL_STUDYCENTRALLAB.STARTDATE IS 'Association start date'; 
COMMENT ON COLUMN TBL_STUDYCENTRALLAB.ENDDATE IS 'Association end date'; 
COMMENT ON COLUMN TBL_STUDYCENTRALLAB.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_STUDYCENTRALLAB.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_STUDYCENTRALLAB.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_STUDYCENTRALLAB.MODIFIEDBY IS 'Modified by'; 


CREATE INDEX TBL_STUDYCENTRALLAB_IDX1 ON TBL_STUDYCENTRALLAB(STUDYID);
CREATE INDEX TBL_STUDYCENTRALLAB_IDX2 ON TBL_STUDYCENTRALLAB(CONTACTID);
----------------------------------------------------------------------------------------------------------------------------------------------------


CREATE TABLE TBL_STUDYLABCOUNTRY (
STUDYLABCOUNTRYID	               NUMBER(38,0) NOT NULL,
STUDYLABID	                     NUMBER(38,0) NOT NULL,
COUNTRYID	                       NUMBER(38,0) NOT NULL,
CREATEDBY                      	 VARCHAR2(100 CHAR) NOT NULL,  
CREATEDDT                   	   DATE   NOT NULL,    
MODIFIEDBY          	           VARCHAR2(100 CHAR),
MODIFIEDDT      	               DATE,
STATUS 							VARCHAR2(1 CHAR) DEFAULT 'Y',
STARTDATE						DATE,
ENDDATE							DATE
);

ALTER TABLE TBL_STUDYLABCOUNTRY ADD CONSTRAINT TBL_STUDYLABCOUNTRY_PK PRIMARY KEY (STUDYLABCOUNTRYID);
ALTER TABLE TBL_STUDYLABCOUNTRY ADD CONSTRAINT TBL_STUDYLABCOUNTRY_LABID_FK FOREIGN KEY ( STUDYLABID ) REFERENCES TBL_STUDYCENTRALLAB ( STUDYLABID );
ALTER TABLE TBL_STUDYLABCOUNTRY ADD CONSTRAINT TBL_STUDYLABCOUNTRY_CONTRID_FK FOREIGN KEY ( COUNTRYID ) REFERENCES TBL_COUNTRIES ( COUNTRYID );
CREATE SEQUENCE SEQ_STUDYLABCOUNTRY MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;


COMMENT ON TABLE TBL_STUDYLABCOUNTRY IS 'Table for Mapping Study lab and Country';
COMMENT ON COLUMN TBL_STUDYLABCOUNTRY.STUDYLABCOUNTRYID IS 'Sequence generated primary key';
COMMENT ON COLUMN TBL_STUDYLABCOUNTRY.STUDYLABID IS 'Foreign key for TBL_STUDYCENTRALLAB';
COMMENT ON COLUMN TBL_STUDYLABCOUNTRY.COUNTRYID IS 'Foreign key for TBL_COUNTRIES'; 
COMMENT ON COLUMN TBL_STUDYLABCOUNTRY.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_STUDYLABCOUNTRY.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_STUDYLABCOUNTRY.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_STUDYLABCOUNTRY.MODIFIEDBY IS 'Modified by'; 
COMMENT ON COLUMN TBL_STUDYLABCOUNTRY.STARTDATE IS 'Start Date for CentraalLab country';
COMMENT ON COLUMN TBL_STUDYLABCOUNTRY.ENDDATE IS 'End Date for CentraalLab country';


CREATE INDEX TBL_STUDYLABCOUNTRY_IDX1 ON TBL_STUDYLABCOUNTRY(STUDYLABID);
CREATE INDEX TBL_STUDYLABCOUNTRY_IDX2 ON TBL_STUDYLABCOUNTRY(COUNTRYID);
-------------------------------------------------------------------------------------------------------------------------------------------------------


CREATE TABLE TBL_STUDYSYSTEMMAP(
STUDYSYSTEMID             	NUMBER(38,0) NOT NULL,
STUDYID	                    NUMBER(38,0) NOT NULL,
ORGSYSTEMID	                NUMBER(38,0) NOT NULL,
STATUS	                    VARCHAR2(1 CHAR),
CREATEDBY                  	VARCHAR2(100 CHAR) NOT NULL, 
CREATEDDT                   DATE NOT NULL,      
MODIFIEDBY          	      VARCHAR2(100 CHAR),
MODIFIEDDT      	          DATE
);

ALTER TABLE TBL_STUDYSYSTEMMAP ADD CONSTRAINT TBL_STUDYSYSTEMMAP_PK PRIMARY KEY (STUDYSYSTEMID);
ALTER TABLE TBL_STUDYSYSTEMMAP ADD CONSTRAINT TBL_STUDYSYSTEMMAP_STDID_FK FOREIGN KEY ( STUDYID ) REFERENCES TBL_STUDY ( STUDYID );
ALTER TABLE TBL_STUDYSYSTEMMAP ADD CONSTRAINT TBL_STUDYSYSTEMMAP_ORGSYSID_FK FOREIGN KEY ( ORGSYSTEMID ) REFERENCES TBL_ORGSYSTEMACCESS ( ORGSYSTEMID );
CREATE SEQUENCE SEQ_STUDYSYSTEMMAP MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;


COMMENT ON TABLE TBL_STUDYSYSTEMMAP IS 'Table for Mapping Study and System';
COMMENT ON COLUMN TBL_STUDYSYSTEMMAP.STUDYSYSTEMID IS 'Sequence generated primary key';
COMMENT ON COLUMN TBL_STUDYSYSTEMMAP.STUDYID IS 'Foreign key for TBL_STUDY';
COMMENT ON COLUMN TBL_STUDYSYSTEMMAP.ORGSYSTEMID IS 'Foreign key for TBL_ORGSYSTEMACCESS'; 
COMMENT ON COLUMN TBL_STUDYSYSTEMMAP.STATUS IS 'Status'; 
COMMENT ON COLUMN TBL_STUDYSYSTEMMAP.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_STUDYSYSTEMMAP.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_STUDYSYSTEMMAP.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_STUDYSYSTEMMAP.MODIFIEDBY IS 'Modified by'; 


CREATE INDEX TBL_STUDYSYSTEMMAP_IDX1 ON TBL_STUDYSYSTEMMAP(STUDYID);
CREATE INDEX TBL_STUDYSYSTEMMAP_IDX2 ON TBL_STUDYSYSTEMMAP(ORGSYSTEMID);
----------------------------------------------------------------------------------------------------------------------------------------------------


CREATE TABLE TBL_ADDLSITELOCATION(
SITELOCATIONID	            NUMBER(38,0) NOT NULL,
SITEID	                    NUMBER(38,0) NOT NULL,
FACILITYID	                NUMBER(38,0),
EXTERNALID	                VARCHAR2(100 CHAR),
ISDEPARTMENT	              VARCHAR2(1   CHAR),
FACILITYNAME	              VARCHAR2(100 CHAR),
DEPARTMENTNAME	            VARCHAR2(100 CHAR),
FACILITYFORDEPARTMENT	      NUMBER(38,0),
CONTACTID	                  NUMBER(38,0),
STATUS	                    VARCHAR2(1 CHAR),
STARTDATE	                  DATE,
ENDDATE	                    DATE,
ISINCLUDED1572	            VARCHAR2(1 CHAR) DEFAULT 'N',
CREATEDBY                  	VARCHAR2(100 CHAR) NOT NULL,  
CREATEDDT                   DATE NOT NULL,       
MODIFIEDBY                  VARCHAR2(100 CHAR),
MODIFIEDDT      	          DATE
);

ALTER TABLE TBL_ADDLSITELOCATION ADD CONSTRAINT TBL_ADDLSITELOCATION_PK PRIMARY KEY (SITELOCATIONID);
ALTER TABLE TBL_ADDLSITELOCATION ADD CONSTRAINT TBL_ADDLSITELOCATION_SITEID_FK FOREIGN KEY ( SITEID ) REFERENCES TBL_SITE ( SITEID );
ALTER TABLE TBL_ADDLSITELOCATION ADD CONSTRAINT TBL_ADDLSITELOCAT_FACID_FK FOREIGN KEY ( FACILITYID ) REFERENCES TBL_FACILITIES ( FACILITYID );
ALTER TABLE TBL_ADDLSITELOCATION ADD CONSTRAINT TBL_ADDLSITELOCAT_CONT_FK FOREIGN KEY ( CONTACTID ) REFERENCES TBL_CONTACT ( CONTACTID );
CREATE SEQUENCE SEQ_ADDLSITELOCATION MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;


COMMENT ON TABLE TBL_ADDLSITELOCATION IS 'Table for Mapping Site and Facility';
COMMENT ON COLUMN TBL_ADDLSITELOCATION.SITELOCATIONID IS 'Sequence generated primary key';
COMMENT ON COLUMN TBL_ADDLSITELOCATION.SITEID IS 'Foreign key for TBL_SITE';
COMMENT ON COLUMN TBL_ADDLSITELOCATION.FACILITYID IS 'Foreign key for TBL_FACILITIES'; 
COMMENT ON COLUMN TBL_ADDLSITELOCATION.EXTERNALID IS 'External id'; 
COMMENT ON COLUMN TBL_ADDLSITELOCATION.ISDEPARTMENT IS 'Is Department'; 
COMMENT ON COLUMN TBL_ADDLSITELOCATION.FACILITYNAME IS 'Facility Name'; 
COMMENT ON COLUMN TBL_ADDLSITELOCATION.DEPARTMENTNAME IS 'Department Name'; 
COMMENT ON COLUMN TBL_ADDLSITELOCATION.FACILITYFORDEPARTMENT IS 'Facility for Department'; 
COMMENT ON COLUMN TBL_ADDLSITELOCATION.CONTACTID IS 'Foreign key for TBL_CONTACT'; 
COMMENT ON COLUMN TBL_ADDLSITELOCATION.STATUS IS 'Status'; 
COMMENT ON COLUMN TBL_ADDLSITELOCATION.STARTDATE IS 'Association start date'; 
COMMENT ON COLUMN TBL_ADDLSITELOCATION.ENDDATE IS 'Association end date'; 
COMMENT ON COLUMN TBL_ADDLSITELOCATION.ISINCLUDED1572 IS 'Is included 1572'; 
COMMENT ON COLUMN TBL_ADDLSITELOCATION.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_ADDLSITELOCATION.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_ADDLSITELOCATION.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_ADDLSITELOCATION.MODIFIEDBY IS 'Modified by'; 


CREATE INDEX TBL_ADDLSITELOCATION_IDX1 ON TBL_ADDLSITELOCATION(SITEID);
CREATE INDEX TBL_ADDLSITELOCATION_IDX2 ON TBL_ADDLSITELOCATION(FACILITYID);
CREATE INDEX TBL_ADDLSITELOCATION_IDX3 ON TBL_ADDLSITELOCATION(CONTACTID);
-------------------------------------------------------------------------------------------------------------------------------------------------


CREATE TABLE TBL_SITEIRBMAP (
SITEIRBID	                  NUMBER(38,0) NOT NULL,
SITEID	                    NUMBER(38,0) NOT NULL,
IRBTYPE	                    NUMBER(38,0) NOT NULL,
IRBNAME	                    VARCHAR2(500 CHAR),
CONTACTID	                  NUMBER(38,0),
STATUS	                    VARCHAR2(1 CHAR),
STARTDATE	                  DATE,
ENDDATE	                    DATE,
STUDYID                    	NUMBER(38,0),
FACILITYID	                NUMBER(38,0),
ISINCLUDED1572	            VARCHAR2(1 CHAR) DEFAULT 'N',
MEETINGFREQUENCY	          NUMBER(38,0),
OTHMTNGFREQNAME	            VARCHAR2(100 CHAR),
PACKSUBMISSION	            NUMBER(38,0),
REQPAYMENTAPPROVAL	        VARCHAR2(1 CHAR),
REQBUDGETAPPROVAL	          VARCHAR2(1 CHAR),
EXTERNALCENTRALIRBID	      VARCHAR2(100 CHAR),
CREATEDBY                  	VARCHAR2(100 CHAR) NOT NULL,  
CREATEDDT                   DATE   NOT NULL,    
MODIFIEDBY          	      VARCHAR2(100 CHAR),
MODIFIEDDT      	          DATE );

ALTER TABLE TBL_SITEIRBMAP ADD CONSTRAINT TBL_SITEIRBMAP_PK PRIMARY KEY (SITEIRBID);
ALTER TABLE TBL_SITEIRBMAP ADD CONSTRAINT TBL_SITEIRBMAP_SITEID_FK FOREIGN KEY ( SITEID ) REFERENCES TBL_SITE ( SITEID );
ALTER TABLE TBL_SITEIRBMAP ADD CONSTRAINT TBL_SITEIRBMAP_IRBTYPE_FK FOREIGN KEY ( IRBTYPE ) REFERENCES TBL_IRBTYPE ( IRBTYPEID );
ALTER TABLE TBL_SITEIRBMAP ADD CONSTRAINT TBL_SITEIRBMAP_CONTID_FK FOREIGN KEY ( CONTACTID ) REFERENCES TBL_CONTACT ( CONTACTID );
ALTER TABLE TBL_SITEIRBMAP ADD CONSTRAINT TBL_SITEIRBMAP_STDID_FK FOREIGN KEY ( STUDYID ) REFERENCES TBL_STUDY ( STUDYID );
ALTER TABLE TBL_SITEIRBMAP ADD CONSTRAINT TBL_SITEIRBMAP_FACID_FK FOREIGN KEY ( FACILITYID ) REFERENCES TBL_FACILITIES ( FACILITYID );
ALTER TABLE TBL_SITEIRBMAP ADD CONSTRAINT TBL_SITEIRBMAP_MFRQID_FK FOREIGN KEY ( MEETINGFREQUENCY ) REFERENCES TBL_MEETINGFREQ ( MEETINGFREQID );
ALTER TABLE TBL_SITEIRBMAP ADD CONSTRAINT TBL_SITEIRBMAP_PACSUB_FK FOREIGN KEY ( PACKSUBMISSION ) REFERENCES TBL_PACKAGESUBMISSION ( PACKAGESUBID );
CREATE SEQUENCE SEQ_SITEIRBMAP MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;



COMMENT ON TABLE TBL_SITEIRBMAP IS 'Table for Mapping Site and IRB';
COMMENT ON COLUMN TBL_SITEIRBMAP.SITEIRBID IS 'Sequence generated primary key';
COMMENT ON COLUMN TBL_SITEIRBMAP.SITEID IS 'Foreign key for TBL_SITE';
COMMENT ON COLUMN TBL_SITEIRBMAP.IRBTYPE IS 'Foreign key for TBL_IRBTYPE'; 
COMMENT ON COLUMN TBL_SITEIRBMAP.IRBNAME IS 'IRB Name'; 
COMMENT ON COLUMN TBL_SITEIRBMAP.CONTACTID IS 'Foreign key for TBL_CONTACT'; 
COMMENT ON COLUMN TBL_SITEIRBMAP.STATUS IS 'Status'; 
COMMENT ON COLUMN TBL_SITEIRBMAP.STARTDATE IS 'Association start date'; 
COMMENT ON COLUMN TBL_SITEIRBMAP.ENDDATE IS 'Association end date'; 
COMMENT ON COLUMN TBL_SITEIRBMAP.STUDYID IS 'Foreign key for TBL_STUDY'; 
COMMENT ON COLUMN TBL_SITEIRBMAP.FACILITYID IS 'Foreign key for TBL_FACILITIES'; 
COMMENT ON COLUMN TBL_SITEIRBMAP.ISINCLUDED1572 IS 'Is included 1572'; 
COMMENT ON COLUMN TBL_SITEIRBMAP.MEETINGFREQUENCY IS 'Foreign key for TBL_MEETINGFREQ'; 
COMMENT ON COLUMN TBL_SITEIRBMAP.OTHMTNGFREQNAME IS 'Foreign key for TBL_PACKAGESUBMISSION'; 
COMMENT ON COLUMN TBL_SITEIRBMAP.PACKSUBMISSION IS 'Package Submission'; 
COMMENT ON COLUMN TBL_SITEIRBMAP.REQPAYMENTAPPROVAL IS 'Request payment approval'; 
COMMENT ON COLUMN TBL_SITEIRBMAP.REQBUDGETAPPROVAL IS 'Request budget approval'; 
COMMENT ON COLUMN TBL_SITEIRBMAP.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_SITEIRBMAP.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_SITEIRBMAP.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_SITEIRBMAP.MODIFIEDBY IS 'Modified by'; 


CREATE INDEX TBL_SITEIRBMAP_IDX1 ON TBL_SITEIRBMAP(SITEID);
CREATE INDEX TBL_SITEIRBMAP_IDX2 ON TBL_SITEIRBMAP(IRBTYPE);
CREATE INDEX TBL_SITEIRBMAP_IDX3 ON TBL_SITEIRBMAP(CONTACTID);
CREATE INDEX TBL_SITEIRBMAP_IDX4 ON TBL_SITEIRBMAP(STUDYID);
CREATE INDEX TBL_SITEIRBMAP_IDX5 ON TBL_SITEIRBMAP(FACILITYID);
CREATE INDEX TBL_SITEIRBMAP_IDX6 ON TBL_SITEIRBMAP(MEETINGFREQUENCY);
CREATE INDEX TBL_SITEIRBMAP_IDX7 ON TBL_SITEIRBMAP(PACKSUBMISSION);
----------------------------------------------------------------------------------------------------------------------------------------------------


CREATE TABLE TBL_SITEIRBREGISTRATION (
SITEIRBREGISTRATIONID	               NUMBER(38,0) NOT NULL,
SITEIRBID 	                         NUMBER(38,0),
REGISTRATIONNUMBER	                 VARCHAR2(100 CHAR),
REGISTERINTBODY	                     VARCHAR2(100 CHAR),
STATUS	                             VARCHAR2(1 CHAR),
CREATEDBY                  	         VARCHAR2(100 CHAR)  NOT NULL,
CREATEDDT                   	       DATE     NOT NULL,  
MODIFIEDBY          	               VARCHAR2(100 CHAR),
MODIFIEDDT      	                   DATE
);

ALTER TABLE TBL_SITEIRBREGISTRATION ADD CONSTRAINT TBL_SITEIRBREGISTRATION_PK PRIMARY KEY (SITEIRBREGISTRATIONID);
ALTER TABLE TBL_SITEIRBREGISTRATION ADD CONSTRAINT TBL_SITEIRBREG_SITIRBID FOREIGN KEY ( SITEIRBID ) REFERENCES TBL_SITEIRBMAP ( SITEIRBID );
CREATE SEQUENCE SEQ_SITEIRBREGISTRATION MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;



COMMENT ON TABLE TBL_SITEIRBREGISTRATION IS 'Table for Mapping Site IRB Registration';
COMMENT ON COLUMN TBL_SITEIRBREGISTRATION.SITEIRBREGISTRATIONID IS 'Sequence generated primary key';
COMMENT ON COLUMN TBL_SITEIRBREGISTRATION.SITEIRBID IS 'Foreign key for TBL_SITEIRBMAP';
COMMENT ON COLUMN TBL_SITEIRBREGISTRATION.REGISTRATIONNUMBER IS 'Registration Number'; 
COMMENT ON COLUMN TBL_SITEIRBREGISTRATION.REGISTERINTBODY IS 'Register Body'; 
COMMENT ON COLUMN TBL_SITEIRBREGISTRATION.STATUS IS 'Status'; 
COMMENT ON COLUMN TBL_SITEIRBREGISTRATION.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_SITEIRBREGISTRATION.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_SITEIRBREGISTRATION.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_SITEIRBREGISTRATION.MODIFIEDBY IS 'Modified by'; 


CREATE INDEX TBL_SITEIRBREGISTRATION_IDX1 ON TBL_SITEIRBREGISTRATION(SITEIRBID);
--------------------------------------------------------------------------------------------------------------------------------------------------------


CREATE TABLE TBL_SITELABMAP (
SITELABID	                  NUMBER(38,0) NOT NULL,
SITEID	                    NUMBER(38,0) NOT NULL,
LABTYPE	                    VARCHAR2(100 CHAR),
LABNAME	                    VARCHAR2(500 CHAR),
CONTACTID	                  NUMBER(38,0),
STATUS	                    VARCHAR2(1 CHAR),
STARTDATE	                  DATE,
ENDDATE	                    DATE,
STUDYID	                    NUMBER(38,0),
FACILITYID	                NUMBER(38,0),
ISINCLUDED1572	            VARCHAR2(1 CHAR) DEFAULT 'N',
EXTERNALCENTRALLABID	      VARCHAR2(100 CHAR),
CREATEDBY                  	VARCHAR2(100 CHAR) NOT NULL,  
CREATEDDT                   DATE NOT NULL,      
MODIFIEDBY          	      VARCHAR2(100 CHAR),
MODIFIEDDT      	          DATE
);

ALTER TABLE TBL_SITELABMAP ADD CONSTRAINT TBL_SITELABMAP_PK PRIMARY KEY (SITELABID);
ALTER TABLE TBL_SITELABMAP ADD CONSTRAINT TBL_SITELABMAP_SITEID_FK FOREIGN KEY ( SITEID ) REFERENCES TBL_SITE ( SITEID );
ALTER TABLE TBL_SITELABMAP ADD CONSTRAINT TBL_SITELABMAP_CONTID_FK FOREIGN KEY ( CONTACTID ) REFERENCES TBL_CONTACT ( CONTACTID );
ALTER TABLE TBL_SITELABMAP ADD CONSTRAINT TBL_SITELABMAP_STDID_FK FOREIGN KEY ( STUDYID ) REFERENCES TBL_STUDY ( STUDYID );
ALTER TABLE TBL_SITELABMAP ADD CONSTRAINT TBL_SITELABMAP_FAC_FK FOREIGN KEY ( FACILITYID ) REFERENCES TBL_FACILITIES ( FACILITYID );
CREATE SEQUENCE SEQ_SITELABMAP MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;


COMMENT ON TABLE TBL_SITELABMAP IS 'Table for Mapping Site and Lab';
COMMENT ON COLUMN TBL_SITELABMAP.SITELABID IS 'Sequence generated primary key';
COMMENT ON COLUMN TBL_SITELABMAP.SITEID IS 'Foreign key for TBL_SITE';
COMMENT ON COLUMN TBL_SITELABMAP.LABTYPE IS 'Lab type'; 
COMMENT ON COLUMN TBL_SITELABMAP.LABNAME IS 'Lab Name'; 
COMMENT ON COLUMN TBL_SITELABMAP.CONTACTID IS 'Foreign key for TBL_CONTACT'; 
COMMENT ON COLUMN TBL_SITELABMAP.STATUS IS 'Status'; 
COMMENT ON COLUMN TBL_SITELABMAP.STARTDATE IS 'Association start date'; 
COMMENT ON COLUMN TBL_SITELABMAP.ENDDATE IS 'Association end date'; 
COMMENT ON COLUMN TBL_SITELABMAP.STUDYID IS 'Foreign key for TBL_STUDY'; 
COMMENT ON COLUMN TBL_SITELABMAP.FACILITYID IS 'Foreign key for TBL_FACILITIES'; 
COMMENT ON COLUMN TBL_SITELABMAP.ISINCLUDED1572 IS 'Is included 1572'; 
COMMENT ON COLUMN TBL_SITELABMAP.EXTERNALCENTRALLABID IS 'External central Lab id'; 
COMMENT ON COLUMN TBL_SITELABMAP.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_SITELABMAP.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_SITELABMAP.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_SITELABMAP.MODIFIEDBY IS 'Modified by'; 


CREATE INDEX TBL_SITELABMAP_IDX1 ON TBL_SITELABMAP(SITEID);
CREATE INDEX TBL_SITELABMAP_IDX2 ON TBL_SITELABMAP(FACILITYID);
CREATE INDEX TBL_SITELABMAP_IDX3 ON TBL_SITELABMAP(CONTACTID);
CREATE INDEX TBL_SITELABMAP_IDX4 ON TBL_SITELABMAP(STUDYID);


-------------------------------------------------------------------------------------------------------------------------------------------------

CREATE TABLE TBL_LABACCREDITATION ( 
LABACCREDITATIONID            NUMBER(38,0) NOT NULL,
LABACCREDITATIONCD            VARCHAR2(30 CHAR),
LABACCREDITATIONNAME          VARCHAR2(100 CHAR) NOT NULL,
CREATEDBY                     VARCHAR2(100 CHAR) NOT NULL,
CREATEDDT                     DATE  NOT NULL ,     
MODIFIEDBY                    VARCHAR2(100 CHAR),
MODIFIEDDT      	          DATE
);

ALTER TABLE TBL_LABACCREDITATION ADD CONSTRAINT TBL_LABACCREDITATION_PK PRIMARY KEY (LABACCREDITATIONID);
CREATE SEQUENCE SEQ_LABACCREDITATION MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;

COMMENT ON TABLE TBL_LABACCREDITATION IS 'Table to store master data for Lab Accreditation values';
COMMENT ON COLUMN TBL_LABACCREDITATION.LABACCREDITATIONID IS 'Sequence generated primary key';
COMMENT ON COLUMN TBL_LABACCREDITATION.LABACCREDITATIONCD IS 'Lab accreditation code';
COMMENT ON COLUMN TBL_LABACCREDITATION.LABACCREDITATIONNAME IS 'Lab accreditation Name';
COMMENT ON COLUMN TBL_LABACCREDITATION.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_LABACCREDITATION.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_LABACCREDITATION.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_LABACCREDITATION.MODIFIEDBY IS 'Modified by'; 
-----------------------------------------------------------------------------------------------------------------------------------------------------


CREATE TABLE TBL_SITELABACCREDITATION (
SITEACCREDITATIONID	                  NUMBER(38,0) NOT NULL,
SITELABID	                            NUMBER NOT NULL,
STATUS	                              VARCHAR2(1 CHAR),
LABACCREDITATIONID					  NUMBER (38,0) NOT NULL ,
OTHERLABACCREDITATION				  VARCHAR2(500 CHAR),
CREATEDBY                  	          VARCHAR2(100 CHAR)  NOT NULL,
CREATEDDT                   	        DATE  NOT NULL  ,   
MODIFIEDBY          	                VARCHAR2(100 CHAR),
MODIFIEDDT      	                    DATE
);

ALTER TABLE TBL_SITELABACCREDITATION ADD CONSTRAINT TBL_SITELABACCREDITATION_PK PRIMARY KEY (SITEACCREDITATIONID);
ALTER TABLE TBL_SITELABACCREDITATION ADD CONSTRAINT TBL_SITELABACC_SITLBID_FK FOREIGN KEY ( SITELABID ) REFERENCES TBL_SITELABMAP ( SITELABID );
ALTER TABLE TBL_SITELABACCREDITATION ADD CONSTRAINT TBL_SITELABACCREDITATION_FK5 FOREIGN KEY ( LABACCREDITATIONID ) REFERENCES TBL_LABACCREDITATION  ( LABACCREDITATIONID );

CREATE SEQUENCE SEQ_SITELABACCREDITATION MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;


COMMENT ON TABLE TBL_SITELABACCREDITATION IS 'Table for Mapping Site and Lab acc';
COMMENT ON COLUMN TBL_SITELABACCREDITATION.SITEACCREDITATIONID IS 'Sequence generated primary key';
COMMENT ON COLUMN TBL_SITELABACCREDITATION.SITELABID IS 'Foreign key for TBL_SITELABMAP';
COMMENT ON COLUMN TBL_SITELABACCREDITATION.LABACCREDITATIONID IS 'Foreign key to TBL_LABACCREDITATION';
COMMENT ON COLUMN TBL_SITELABACCREDITATION.STATUS IS 'Status'; 
COMMENT ON COLUMN TBL_SITELABACCREDITATION.OTHERLABACCREDITATION IS 'To store Descripted value of Other Type LabAccreditation.'; 
COMMENT ON COLUMN TBL_SITELABACCREDITATION.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_SITELABACCREDITATION.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_SITELABACCREDITATION.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_SITELABACCREDITATION.MODIFIEDBY IS 'Modified by'; 


CREATE INDEX TBL_SITELABACCREDITATION_IDX1 ON TBL_SITELABACCREDITATION(SITELABID);
CREATE INDEX TBL_SITELABACCREDITATION_IDX2 ON TBL_SITELABACCREDITATION(LABACCREDITATIONID);
-------------------------------------------------------------------------------------------------------------------------------------------------------


CREATE TABLE TBL_SITESYSTEMACCESS (
SITESYSTEMACCESSID	              NUMBER(38,0) NOT NULL,
SITEID	                          NUMBER(38,0) NOT NULL,
SYSTEMID	                        NUMBER(38,0) NOT NULL,
ISACTIVE	                        VARCHAR2(1 CHAR),
USERID								NUMBER(38,0),
REQUESTED_DATE 						DATE,
CREATEDBY                       	VARCHAR2(100 CHAR)  NOT NULL,
CREATEDDT                   	    DATE       NOT NULL,
MODIFIEDBY          	            VARCHAR2(100 CHAR),
MODIFIEDDT      	                DATE
);

ALTER TABLE TBL_SITESYSTEMACCESS ADD CONSTRAINT TBL_SITESYSTEMACCESS_PK PRIMARY KEY (SITESYSTEMACCESSID);
ALTER TABLE TBL_SITESYSTEMACCESS ADD CONSTRAINT TBL_SITESYSTEMACCESS_SITEID_FK FOREIGN KEY ( SITEID ) REFERENCES TBL_SITE ( SITEID );
ALTER TABLE TBL_SITESYSTEMACCESS ADD CONSTRAINT TBL_SITESYSTEMACCESS_SYSID_FK FOREIGN KEY ( SYSTEMID ) REFERENCES TBL_ORGSYSTEMACCESS ( ORGSYSTEMID );
ALTER TABLE TBL_SITESYSTEMACCESS ADD CONSTRAINT TBL_SITESYSTEMACCESS_USERID_PK FOREIGN KEY ( USERID ) REFERENCES TBL_USERPROFILES ( USERID );
CREATE SEQUENCE SEQ_SITESYSTEMACCESS MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;



COMMENT ON TABLE TBL_SITESYSTEMACCESS IS 'Table for Mapping Site and Lab acc';
COMMENT ON COLUMN TBL_SITESYSTEMACCESS.SITESYSTEMACCESSID IS 'Sequence generated primary key';
COMMENT ON COLUMN TBL_SITESYSTEMACCESS.SITEID IS 'Foreign key for TBL_SITE';
COMMENT ON COLUMN TBL_SITESYSTEMACCESS.SYSTEMID IS 'Foreign key for TBL_ORGSYSTEMACCESS'; 
COMMENT ON COLUMN TBL_SITESYSTEMACCESS.ISACTIVE IS 'Isactive'; 
COMMENT ON COLUMN TBL_SITESYSTEMACCESS.USERID IS 'Sip user id ';
COMMENT ON COLUMN TBL_SITESYSTEMACCESS.REQUESTED_DATE IS 'Date on which access was requested';
COMMENT ON COLUMN TBL_SITESYSTEMACCESS.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_SITESYSTEMACCESS.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_SITESYSTEMACCESS.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_SITESYSTEMACCESS.MODIFIEDBY IS 'Modified by'; 


CREATE INDEX TBL_SITESYSTEMACCESS_IDX1 ON TBL_SITESYSTEMACCESS(SITEID);
CREATE INDEX TBL_SITESYSTEMACCESS_IDX2 ON TBL_SITESYSTEMACCESS(SYSTEMID);
CREATE INDEX TBL_SITESYSTEMACCESS_IDX3 ON TBL_SITESYSTEMACCESS(USERID);
-------------------------------------------------------------------------------------------------------------------------------------------------

CREATE TABLE TBL_SITESECTIONS (SITESECTIONID NUMBER(38,0),
                              SECTIONNAME    VARCHAR2(100 CHAR),
                              SECTIONCODE    VARCHAR2(5 CHAR),
                              CREATEDBY      VARCHAR2(100 CHAR) NOT NULL,
                              CREATEDDT      DATE NOT NULL,
                              MODIFIEDBY     VARCHAR2(100 CHAR),
                              MODIFIEDDT     DATE);
                              

ALTER TABLE TBL_SITESECTIONS ADD CONSTRAINT TBL_SITESECTIONS_PK PRIMARY KEY (SITESECTIONID);
CREATE SEQUENCE SEQ_SITESECTIONS MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;

COMMENT ON TABLE TBL_SITESECTIONS IS 'maintaining wizard section status';
COMMENT ON COLUMN TBL_SITESECTIONS.SITESECTIONID IS 'Section Id for site sequence generated primary key';
COMMENT ON COLUMN TBL_SITESECTIONS.SECTIONNAME IS 'Section Name';
COMMENT ON COLUMN TBL_SITESECTIONS.SECTIONCODE IS 'Section code'; 
COMMENT ON COLUMN TBL_SITESECTIONS.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_SITESECTIONS.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_SITESECTIONS.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_SITESECTIONS.MODIFIEDBY IS 'Modified by'; 

CREATE TABLE TBL_SITESECTIONSTATUS (SITESECTIONSTATUSID NUMBER(38,0),
                              SECTIONID      NUMBER(38,0),   
                              SITEID         NUMBER(38,0),        
                              STATUS         VARCHAR2(1 CHAR),
                              ISAPPLICABLE    VARCHAR2(1 CHAR),
                              CREATEDBY      VARCHAR2(100 CHAR) NOT NULL,
                              CREATEDDT      DATE NOT NULL,
                              MODIFIEDBY     VARCHAR2(100 CHAR),
                              MODIFIEDDT     DATE);
                              
ALTER TABLE TBL_SITESECTIONSTATUS ADD CONSTRAINT TBL_SITESECTIONSTATUS_PK PRIMARY KEY (SITESECTIONSTATUSID);
ALTER TABLE TBL_SITESECTIONSTATUS ADD CONSTRAINT TBL_SITESECTIONSTATUS_SECID_FK FOREIGN KEY ( SECTIONID ) REFERENCES TBL_SITESECTIONS ( SITESECTIONID );

CREATE SEQUENCE SEQ_SITESECTIONSTATUS MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;

COMMENT ON TABLE TBL_SITESECTIONSTATUS IS 'maintaining wizard section status name';
COMMENT ON COLUMN TBL_SITESECTIONSTATUS.SITESECTIONSTATUSID IS 'Site Section Id for site sequence generated primary key';
COMMENT ON COLUMN TBL_SITESECTIONSTATUS.SECTIONID IS 'Section Id foreign key for TBL_SITESECTIONS';
COMMENT ON COLUMN TBL_SITESECTIONSTATUS.SITEID IS 'Site id '; 
COMMENT ON COLUMN TBL_SITESECTIONSTATUS.STATUS IS 'Section status'; 
COMMENT ON COLUMN TBL_SITESECTIONSTATUS.ISAPPLICABLE IS 'Is applicable staus'; 
COMMENT ON COLUMN TBL_SITESECTIONSTATUS.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_SITESECTIONSTATUS.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_SITESECTIONSTATUS.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_SITESECTIONSTATUS.MODIFIEDBY IS 'Modified by'; 


CREATE INDEX TBL_SITESECTIONSTATUS_IDX1 ON TBL_SITESECTIONSTATUS(SECTIONID);
-------------------------------------------------------------------------------------------------------------------------------------------------


ALTER TABLE TBL_CENTRALIRB ADD IRBACTASLOCAL VARCHAR2(1 CHAR)  ;
ALTER TABLE TBL_CENTRALIRB ADD OTHERMEETINGFREQ  VARCHAR2(200 CHAR)  ;
COMMENT ON COLUMN TBL_CENTRALIRB.IRBACTASLOCAL IS 'Column to store can_act_as_local flag from IR for a particular central IRB';
COMMENT ON COLUMN TBL_CENTRALIRB.OTHERMEETINGFREQ IS 'Column to store other meeting frequency for a particular central IRB';


ALTER TABLE TBL_CENTRALIRBREGISTRATION ADD CENTRALIRBREGIRID   VARCHAR2(100 CHAR)  ;
COMMENT ON COLUMN TBL_CENTRALIRBREGISTRATION.CENTRALIRBREGIRID  IS 'Column to store IRID for the central IRB registration record';


-----------------------------------------------------------------------------------------------------------------------------------------------

CREATE TABLE TBL_CENTRALLAB  ( 
CENTRALLABID            NUMBER(38,0) NOT NULL,
LABNAME            VARCHAR2(255 CHAR),
CONTACTID				NUMBER(38,0) ,
IRCENTRALLABID          VARCHAR2(100 CHAR) NOT NULL,
ISACTIVE	          VARCHAR2(1 CHAR) DEFAULT ('Y'),
RECIPIENTNAME              VARCHAR2(500 CHAR),               
CREATEDBY                     VARCHAR2(100 CHAR) NOT NULL,
CREATEDDT                     DATE  NOT NULL ,     
MODIFIEDBY                    VARCHAR2(100 CHAR),
MODIFIEDDT      	          DATE
);

ALTER TABLE TBL_CENTRALLAB  ADD CONSTRAINT TBL_CENTRALLAB_PK PRIMARY KEY (CENTRALLABID);
ALTER TABLE TBL_CENTRALLAB ADD CONSTRAINT TBL_CENTRALLAB_FK FOREIGN KEY ( CONTACTID ) REFERENCES TBL_CONTACT ( CONTACTID );
CREATE SEQUENCE SEQ_CENTRALLAB MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;

COMMENT ON TABLE TBL_CENTRALLAB IS 'Table to store master data set of Central Lab coming from IR';
COMMENT ON COLUMN TBL_CENTRALLAB.CENTRALLABID IS 'Sequence generated primary key';
COMMENT ON COLUMN TBL_CENTRALLAB.LABNAME IS 'Lab name';
COMMENT ON COLUMN TBL_CENTRALLAB.CONTACTID IS 'Foreign key for TBL_CONTACT';
COMMENT ON COLUMN TBL_CENTRALLAB.IRCENTRALLABID IS 'IR Central Lab id';
COMMENT ON COLUMN TBL_CENTRALLAB.ISACTIVE IS 'Isactive flag';
COMMENT ON COLUMN TBL_CENTRALLAB.RECIPIENTNAME IS 'Recipient name';
COMMENT ON COLUMN TBL_CENTRALLAB.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_CENTRALLAB.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_CENTRALLAB.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_CENTRALLAB.MODIFIEDBY IS 'Modified by'; 


CREATE INDEX TBL_CENTRALLAB_IDX1 ON TBL_CENTRALLAB(CONTACTID);
------------------------------------------------------------------------------------------------------------------------------------------------------------


CREATE TABLE TBL_CENTRALLABACC  ( 
CENTRALLABACCID            NUMBER(38,0) NOT NULL,
CENTRALLABID            NUMBER(38,0) NOT NULL,
LABACCREDITATIONID		NUMBER(38,0)  NOT NULL,
OTHERACCDETAILS          VARCHAR2(100 CHAR),
ISACTIVE	          VARCHAR2(1 CHAR) DEFAULT ('Y'),
CREATEDBY                     VARCHAR2(100 CHAR) NOT NULL,
CREATEDDT                     DATE  NOT NULL ,     
MODIFIEDBY                    VARCHAR2(100 CHAR),
MODIFIEDDT      	          DATE
);

ALTER TABLE TBL_CENTRALLABACC  ADD CONSTRAINT TBL_CENTRALLABACC_PK PRIMARY KEY (CENTRALLABACCID);
ALTER TABLE TBL_CENTRALLABACC ADD CONSTRAINT TBL_CENTRALLABACC_FK1 FOREIGN KEY ( CENTRALLABID ) REFERENCES TBL_CENTRALLAB ( CENTRALLABID );
ALTER TABLE TBL_CENTRALLABACC ADD CONSTRAINT TBL_CENTRALLABACC_FK2 FOREIGN KEY ( LABACCREDITATIONID ) REFERENCES TBL_LABACCREDITATION (LABACCREDITATIONID);
CREATE SEQUENCE SEQ_CENTRALLABACC MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;

COMMENT ON TABLE TBL_CENTRALLABACC IS 'Table to store the mapping between Central Lab and Lab Accreditation';
COMMENT ON COLUMN TBL_CENTRALLABACC.CENTRALLABACCID IS 'Sequence generated primary key';
COMMENT ON COLUMN TBL_CENTRALLABACC.CENTRALLABID IS 'Foreign key for TBL_CENTRALLAB';
COMMENT ON COLUMN TBL_CENTRALLABACC.LABACCREDITATIONID IS 'Foreign key for TBL_LABACCREDITATION';
COMMENT ON COLUMN TBL_CENTRALLABACC.OTHERACCDETAILS IS 'Other details';
COMMENT ON COLUMN TBL_CENTRALLABACC.ISACTIVE IS 'Isactive flag';
COMMENT ON COLUMN TBL_CENTRALLABACC.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_CENTRALLABACC.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_CENTRALLABACC.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_CENTRALLABACC.MODIFIEDBY IS 'Modified by'; 


CREATE INDEX TBL_CENTRALLABACC_IDX1 ON TBL_CENTRALLABACC(CENTRALLABID);
CREATE INDEX TBL_CENTRALLABACC_IDX2 ON TBL_CENTRALLABACC(LABACCREDITATIONID);
--------------------------------------------------------------------------------------------------------------------------------------------------
ALTER TABLE TBL_CENTRALIRB DROP CONSTRAINT TBL_CENTRALIRBCON_FK ;
ALTER TABLE TBL_CENTRALIRB ADD CONSTRAINT TBL_CENTRALIRBCON_FK FOREIGN KEY ( CONTACTID ) REFERENCES TBL_CONTACT ( CONTACTID ); 

CREATE INDEX TBL_CENTRALIRB_IDX1 ON TBL_CENTRALIRB(CONTACTID);


DROP TABLE TBL_CENTRALIRBCONTACT  ;


-------------------------------------------------------------------------------------------------------------------------------------------------------

ALTER TABLE TBL_STUDYCENTRALLAB DROP COLUMN ACCERADATION ;

-----------------------------------------------------------------------------------------------------------------------------------------------


CREATE TABLE TBL_STUDYLABACCREDITATIONMAP
(STUDYLABACCMAPID  NUMBER(38,0),
STUDYLABID  NUMBER(38,0) NOT NULL,
LABACCREDITATIONID  NUMBER(38,0) NOT NULL,
STATUS    VARCHAR2(1 CHAR),
CREATEDBY	VARCHAR2(100 CHAR) NOT NULL,
CREATEDDT	DATE NOT NULL,
MODIFIEDBY	VARCHAR2(100 CHAR),
MODIFIEDDT	DATE	
);


CREATE SEQUENCE SEQ_STUDYLABACCREDITATIONMAP INCREMENT BY 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCACHE ;
ALTER TABLE TBL_STUDYLABACCREDITATIONMAP ADD CONSTRAINT TBL_STUDYLABACCMAP_PK PRIMARY KEY ( STUDYLABACCMAPID );
ALTER TABLE TBL_STUDYLABACCREDITATIONMAP ADD CONSTRAINT TBL_STUDYLABACCMAP_FK1 FOREIGN KEY ( STUDYLABID ) REFERENCES TBL_STUDYCENTRALLAB  ( STUDYLABID );
ALTER TABLE TBL_STUDYLABACCREDITATIONMAP ADD CONSTRAINT TBL_STUDYLABACCMAP_FK5 FOREIGN KEY ( LABACCREDITATIONID ) REFERENCES TBL_LABACCREDITATION  ( LABACCREDITATIONID );

COMMENT ON TABLE TBL_STUDYLABACCREDITATIONMAP IS 'Table to store study Lab and accreditation mapping';

COMMENT ON COLUMN TBL_STUDYLABACCREDITATIONMAP.STUDYLABACCMAPID IS 'Sequence generated primary key of the table';
COMMENT ON COLUMN TBL_STUDYLABACCREDITATIONMAP.STUDYLABID IS 'Foreign key to TBL_STUDYCENTRALLAB';
COMMENT ON COLUMN TBL_STUDYLABACCREDITATIONMAP.LABACCREDITATIONID IS 'Foreign key to TBL_LABACCREDITATION';
COMMENT ON COLUMN TBL_STUDYLABACCREDITATIONMAP.STATUS IS 'Status';
COMMENT ON COLUMN TBL_STUDYLABACCREDITATIONMAP.CREATEDBY IS 'Created By';
COMMENT ON COLUMN TBL_STUDYLABACCREDITATIONMAP.CREATEDDT IS 'Created Date';
COMMENT ON COLUMN TBL_STUDYLABACCREDITATIONMAP.MODIFIEDBY IS 'Modified By';
COMMENT ON COLUMN TBL_STUDYLABACCREDITATIONMAP.MODIFIEDDT IS 'Modified Date';


CREATE INDEX TBL_STUDYLABACCMAP_IDX1 ON TBL_STUDYLABACCREDITATIONMAP(STUDYLABID);
CREATE INDEX TBL_STUDYLABACCMAP_IDX2 ON TBL_STUDYLABACCREDITATIONMAP(LABACCREDITATIONID);

-----------------------------------------------------------------------------------------------------------------------------------------------------
CREATE TABLE TBL_SITESTAFFACMAPPING 
(SITESTAFFID NUMBER(38,0) NOT NULL , 
USERROLEID NUMBER(38,0)NOT NULL , 
FACILITYID NUMBER(38,0)NOT NULL , 
ISPRIMARYFACILITY VARCHAR2(1 CHAR), 
ISACTIVE  VARCHAR2(1 CHAR),
CREATEDBY VARCHAR2(100 CHAR)NOT NULL ,
CREATEDDT DATE NOT NULL ,
MODIFIEDBY VARCHAR2(100 CHAR),
MODIFIEDDT DATE
);


ALTER TABLE TBL_SITESTAFFACMAPPING ADD CONSTRAINT TBL_SITESTAFFACMAPPING_PK PRIMARY KEY (SITESTAFFID);
ALTER TABLE TBL_SITESTAFFACMAPPING ADD CONSTRAINT TBL_SITESTAFFACMAPPING_FK FOREIGN KEY ( USERROLEID ) REFERENCES TBL_USERROLEMAP ( USERROLEID );
ALTER TABLE TBL_SITESTAFFACMAPPING ADD CONSTRAINT TBL_SITESTAFFACMAPPING_SITE_FK FOREIGN KEY ( FACILITYID ) REFERENCES TBL_FACILITIES ( FACILITYID );
CREATE SEQUENCE SEQ_SITESTAFFACMAPPING MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;


COMMENT ON TABLE  TBL_SITESTAFFACMAPPING IS 'Table to maintain the association of User role map ID and the facility ID of study site staff';  
COMMENT ON COLUMN TBL_SITESTAFFACMAPPING.USERROLEID IS 'UserroleID references to Tbl_Userrolemap';  
COMMENT ON COLUMN TBL_SITESTAFFACMAPPING.FACILITYID IS 'FacilityID refers to Tbl_Facilities'; 
COMMENT ON COLUMN TBL_SITESTAFFACMAPPING.ISPRIMARYFACILITY IS 'Y/N Flag for Primary Facility'; 
COMMENT ON COLUMN TBL_SITESTAFFACMAPPING.CREATEDBY IS 'Created By'; 
COMMENT ON COLUMN TBL_SITESTAFFACMAPPING.ISACTIVE IS 'Isactive flag'; 
COMMENT ON COLUMN TBL_SITESTAFFACMAPPING.CREATEDDT IS 'Created Date'; 
COMMENT ON COLUMN TBL_SITESTAFFACMAPPING.MODIFIEDBY IS 'Last Modified By'; 
COMMENT ON COLUMN TBL_SITESTAFFACMAPPING.MODIFIEDDT IS 'Last Modified Date';


CREATE INDEX TBL_SITESTAFFACMAPPING_IDX1 ON TBL_SITESTAFFACMAPPING(USERROLEID);
CREATE INDEX TBL_SITESTAFFACMAPPING_IDX2 ON TBL_SITESTAFFACMAPPING(FACILITYID);
-------------------------------------------------------------------------------------------------------------------------------

CREATE TABLE TBL_FUTURESTUDYSITESDTLS( 
FUTURESTUDYSITESDTLSID        NUMBER(38,0) NOT NULL,
STUDYID                       NUMBER(38,0) NOT NULL,
SITEID                        NUMBER(38,0),
COUNTRYID                     NUMBER(38,0),
ORGID                         NUMBER(38,0) NOT NULL,
ISPROCESSED                   VARCHAR2(1 CHAR),
CREATEDBY					  VARCHAR2(100 CHAR) NOT NULL,
CREATEDDT                     DATE  NOT NULL ,     
MODIFIEDBY                    VARCHAR2(100 CHAR),
MODIFIEDDT                     DATE
);

ALTER TABLE TBL_FUTURESTUDYSITESDTLS ADD CONSTRAINT TBL_FUTURESTUDYSITESDTLS_PK PRIMARY KEY (FUTURESTUDYSITESDTLSID);
CREATE SEQUENCE SEQ_FUTURESTUDYSITESDTLS MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;

COMMENT ON TABLE  TBL_FUTURESTUDYSITESDTLS IS 'New Table for FUTURE STUDY AND FUTURE SITE  for access management ';
COMMENT ON COLUMN TBL_FUTURESTUDYSITESDTLS.FUTURESTUDYSITESDTLSID IS 'Sequence generated primary key';
COMMENT ON COLUMN TBL_FUTURESTUDYSITESDTLS.STUDYID IS 'Study Id';
COMMENT ON COLUMN TBL_FUTURESTUDYSITESDTLS.SITEID IS 'Site Id'; 
COMMENT ON COLUMN TBL_FUTURESTUDYSITESDTLS.COUNTRYID IS 'Country Id'; 
COMMENT ON COLUMN TBL_FUTURESTUDYSITESDTLS.ORGID IS 'Organization Id'; 
COMMENT ON COLUMN TBL_FUTURESTUDYSITESDTLS.ISPROCESSED IS 'Processed flag'; 
COMMENT ON COLUMN TBL_FUTURESTUDYSITESDTLS.CREATEDDT IS 'Created date'; 
COMMENT ON COLUMN TBL_FUTURESTUDYSITESDTLS.CREATEDBY IS 'Created by'; 
COMMENT ON COLUMN TBL_FUTURESTUDYSITESDTLS.MODIFIEDDT IS 'Modified date'; 
COMMENT ON COLUMN TBL_FUTURESTUDYSITESDTLS.MODIFIEDBY IS 'Modified by'; 

ALTER TABLE TBL_SITECONTACTMAP ADD STARTDATE DATE;
COMMENT ON COLUMN TBL_SITECONTACTMAP.STARTDATE IS 'Start Date';
ALTER TABLE TBL_SITECONTACTMAP ADD ENDDATE DATE;
COMMENT ON COLUMN TBL_SITECONTACTMAP.STARTDATE IS 'End Date';


-----------------------------------------------------------------------------------------------------------------------------------------

ALTER TABLE TBL_DOCUMENTS ADD SITEID NUMBER (38,0);
ALTER TABLE TBL_DOCUMENTS ADD CONSTRAINT TBL_DOCUMENTS_SITE_FK FOREIGN KEY ( SITEID ) REFERENCES TBL_SITE ( SITEID );
COMMENT ON COLUMN TBL_DOCUMENTS.SITEID IS 'Foreign key for TBL_SITE';

-------------------------------------------------------------------------------------------------------------------------------------------

alter table TBL_SITECONTACTMAP drop CONSTRAINT TBL_SITECONMAP_TBL_IPDETLS_FK ;

ALTER TABLE TBL_STUDY  modify THERAPEUTICAREAID NULL;
ALTER TABLE TBL_STUDY  modify PROGID  NULL;

ALTER TABLE TBL_PROGRAM
MODIFY(THERAPEUTICAREAID NUMBER(38,0) NULL);
